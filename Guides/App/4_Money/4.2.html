<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="4.3 - Load and Save" href="4.3.html" /><link rel="prev" title="4.1 - The Basics" href="4.1.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2024.08.06 -->
        <title>4.2 - Document Editor - GNUstep</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">GNUstep</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  
  <span class="sidebar-brand-text">GNUstep</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../APIRefs/index.html">API references</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API references</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../APIRefs/Make/index.html">Make</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Make</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../APIRefs/Make/Introduction.html">Introduction</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../APIRefs/Make/Topics/index.html">Topics</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/Topics/Subproject.html">Subprojects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/Topics/MultipleTypes.html">Building more than one thing in the same GNUmakefile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/Topics/Aggregate.html">Aggregate projects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/Topics/ParallelBuilding.html">Parallel Building</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/Topics/LibraryIntroduction.html">Introduction to Libraries</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/index.html">Project Types</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Project Types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/Project.html">Project reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/ResourceSet.html">Resource Set reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/Tool.html">Tool reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/Application.html">Application reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/Library.html">Library reference</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../APIRefs/Make/OtherVariables/index.html">Other Variables</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Other Variables</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/OtherVariables/Flags.html">Overridable Flags</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../APIRefs/Make/ReleaseNotes.html">Release Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../APIRefs/Base/index.html">GNUstep Base</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">Building Apps with GORM</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Building Apps with GORM</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../1_Intro/index.html">1 - Introduction to GNUstep Programming</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../2_Convertor/index.html">2 - Convertor</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 2 - Convertor</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../2_Convertor/2.1.html">2.1 - Designing the UI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_Convertor/2.2.html">2.2 - Outlets and Actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../2_Convertor/2.3.html">2.3 - Adding the Code</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../3_TimeMachine/index.html">3 - TimeMachine</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 3 - TimeMachine</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../3_TimeMachine/3.1.html">3.1 - A Basic Clock</a></li>
<li class="toctree-l4"><a class="reference internal" href="../3_TimeMachine/3.2.html">3.2 - Analog Clock</a></li>
<li class="toctree-l4"><a class="reference internal" href="../3_TimeMachine/3.3.html">3.3 - New Time Zone Dialog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../3_TimeMachine/3.4.html">3.4 - Multiple Clocks</a></li>
</ul>
</li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="index.html">4 - Money</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 4 - Money</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="4.1.html">4.1 - The Basics</a></li>
<li class="toctree-l4 current current-page"><a class="current reference internal" href="#">4.2 - Document Editor</a></li>
<li class="toctree-l4"><a class="reference internal" href="4.3.html">4.3 - Load and Save</a></li>
<li class="toctree-l4"><a class="reference internal" href="4.4.html">4.4 - Drag and Drop</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../5_Overview/index.html">5 - Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../6_LunarCalendar/index.html">6 - LunarCalendar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7_NSLookupService/index.html">7 - NSLookupService</a></li>
<li class="toctree-l3"><a class="reference internal" href="../HelpfulWebsites.html">Helpful Websites</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../AppsWithCodeOnly/index.html">Building Apps from Code Only</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Building Apps from Code Only</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../AppsWithCodeOnly/GettingStarted/index.html">First Steps in GNUstep GUI Programming</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of First Steps in GNUstep GUI Programming</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../AppsWithCodeOnly/GettingStarted/1_SharedApplication.html">1 - The shared application object</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../AppsWithCodeOnly/GettingStarted/2_AppIcon.html">2 - Setting your application’s icon</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../AppsWithCodeOnly/GettingStarted/3_Menus.html">3 - Menus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../AppsWithCodeOnly/GettingStarted/4_PointsSizesRectangles.html">4 - Points, Sizes and Rectangles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../AppsWithCodeOnly/GettingStarted/5_Windows.html">5 - Adding a Window to your Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../AppsWithCodeOnly/GettingStarted/6_Buttons.html">6 - Adding a Button in the Window</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../../_sources/Guides/App/4_Money/4.2.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="document-editor">
<h1>4.2 - Document Editor<a class="headerlink" href="#document-editor" title="Permalink to this heading">¶</a></h1>
<p>We now have the skeleton of <em>Money.app</em>. I want it be a
spreadsheet-like application to track the expense.
Spreadsheet-like applications need a table. <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> is a good start.
<code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> is a more complicated user interface than NSButton,
NSTextField, etc. So do NSBrowser, NSOutlineView, NSMatrix, etc. GNUstep
does a great job to make it very easy to use. I’ll try to explain it
step by step.</p>
<blockquote>
<div><p>Here is a related article: <a class="reference external" href="http://cocoadevcentral.com/articles/000063.php"><em>Getting Started With
<code class="docutils literal notranslate"><span class="pre">NSTableView</span></code></em></a></p>
</div></blockquote>
<blockquote>
<div><p>If you are interested
in text editors, <a class="reference external" href="https://github.com/gnustep/tests-examples/tree/master/gui/Ink">Ink.app</a> is a good example.</p>
</div></blockquote>
<section id="creating-the-table-view">
<h2>Creating the table view<a class="headerlink" href="#creating-the-table-view" title="Permalink to this heading">¶</a></h2>
<p>Use Gorm to open Document.gorm. Add a table view into the window. Try to
resize it until it fit the whole window.</p>
<p><span id="AEN996"></span></p>
<p><strong>Figure 4-38. Add table into window</strong></p>
<p><img alt="" src="../../../_images/Table-02.jpg" /></p>
<p><img alt="" src="../../../_images/Table-01.jpg" /></p>
<p>Check the “Horizontal” scroller.</p>
<p><span id="AEN1005"></span></p>
<p><strong>Figure 4-39. Attributes of <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code></strong></p>
<p><img alt="" src="../../../_images/Table-03.jpg" /></p>
<p>Look at the <u>Size</u> panel in the inspector of <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>. Click the line in
the <u>Autosizing</u> box to make them springs.</p>
<p><span id="AEN1011"></span></p>
<p><strong>Figure 4-40. Set resize attribute of table view</strong></p>
<p><img alt="" src="../../../_images/Table-04.jpg" /></p>
<p>The box represent the <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>. The straight line or spring represent
the distance relationship. Line outside the box is the distance between
<code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> and its superview. It is the window in this case. The line
inside the box is the size of the <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>. Straight line means the
distance is fixed, the spring means it is resizable. In this case, when
window is resized, since the distance between <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> and window is
fixed, <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> will be resized according to the window. That’s the
behavior I want.</p>
<p>You can change the title of the column by double-click on it. But it is
not necessary for now. You will find that it is still hard to control
the interface of <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> from Gorm. I’ll do that programmingly.
Therefore, I need a outlet connected to this <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> from NSOwner.</p>
<p>Add an outlet, <code class="docutils literal notranslate"><span class="pre">tableView</span></code>, in the class <code class="docutils literal notranslate"><span class="pre">Document</span></code>.</p>
<p><span id="AEN1019"></span></p>
<p><strong>Figure 4-41. Add outlet for table view</strong></p>
<p><img alt="" src="../../../_images/Table-05.jpg" /></p>
<p>Set NSOwner as the data source and delegate of the <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>. I’ll
explain the data source later.</p>
<p><span id="AEN1025"></span></p>
<p><strong>Figure 4-42. Connect data source and delegate of table view</strong></p>
<p><img alt="" src="../../../_images/Table-06.jpg" /></p>
<p><img alt="" src="../../../_images/Table-07.jpg" /></p>
<p><img alt="" src="../../../_images/Table-08.jpg" /></p>
<p>Connect the outlet <code class="docutils literal notranslate"><span class="pre">tableView</span></code> to <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>.</p>
<p><span id="AEN1037"></span></p>
<p><strong>Figure 4-43. Connect outlet to table view</strong></p>
<p><img alt="" src="../../../_images/Table-09.jpg" /></p>
<p><img alt="" src="../../../_images/Table-10.jpg" /></p>
<p><img alt="" src="../../../_images/Table-11.jpg" /></p>
<p>Save the Gorm file and quit Gorm.</p>
</section>
<section id="basic-data-source">
<h2>Basic data source<a class="headerlink" href="#basic-data-source" title="Permalink to this heading">¶</a></h2>
<p>Add the new outlet in Document.h.</p>
<p><code class="docutils literal notranslate"><span class="pre">Document.h:</span></code></p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="cp">#import &lt;AppKit/AppKit.h&gt;</span>
<span class="cp">#import &lt;AppKit/NSDocument.h&gt;</span>

<span class="k">@interface</span> <span class="nc">Document</span> : <span class="nc">NSDocument</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">id</span><span class="w"> </span><span class="n">tableView</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">@end</span>
</pre></div>
</div>
<p>The way <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> works is that when it needs to display, it will ask
its data source to provide the data it needs. So we need to implement
two methods to provide <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> the data it need:</p>
<p><code class="docutils literal notranslate"><span class="pre">Document.m:</span></code></p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="nf">numberOfRowsInTableView:</span><span class="w"> </span><span class="p">(</span><span class="n">NSTableView</span><span class="o">*</span><span class="p">)</span> <span class="nv">view</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span>              <span class="nf">tableView:</span><span class="w"> </span><span class="p">(</span><span class="n">NSTableView</span><span class="o">*</span><span class="p">)</span> <span class="nv">view</span>
<span class="w">    </span><span class="nl">objectValueForTableColumn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">NSTableColumn</span><span class="o">*</span><span class="p">)</span> <span class="nv">column</span>
<span class="w">                          </span><span class="nl">row</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="nv">row</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="bp">NSString</span><span class="w"> </span><span class="n">stringWithFormat</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;column %@ row %d&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">identifier</span><span class="p">],</span><span class="w"> </span><span class="n">row</span><span class="p">];</span><span class="w"> </span>
<span class="p">}</span>
</pre></div>
</div>
<p>The method <code class="docutils literal notranslate"><span class="pre">-numberOfRowsInTableView:</span></code> returns how many rows <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>
should display – in this case, we’ll display 5 rows. The method
<code class="docutils literal notranslate"><span class="pre">-tableView:objectValueForTableColumn:row:</span></code> returns the value shown in a certain cell in the table.</p>
<p>Now, this application is ready to run, even though it does nothing but
display 5 rows of “column 0 row 0”. This is merely a demonstration of how <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>
works. I provide the number of rows, and the object in a given column
and row. As long as these two kinds of data are provided, the
<code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> can display anything, even a image in the cell. I’ll talk
about more details about data sources later on.</p>
<blockquote>
<div><p>Here is the source code:
<a class="reference external" href="http://gnustep.made-it.com/GSPT/Table/Table-1-src.tar.gz">Table-1-src.tar.gz</a></p>
</div></blockquote>
</section>
<section id="configuring-the-table-view">
<h2>Configuring the table view<a class="headerlink" href="#configuring-the-table-view" title="Permalink to this heading">¶</a></h2>
<p>Let’s work on the interface first. <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> is a collection of
<code class="docutils literal notranslate"><span class="pre">NSTableColumn</span></code>s. I want three columns for the date, item and amount. By default, there are two columns. Therefore, I need to add a
<code class="docutils literal notranslate"><span class="pre">NSTableColumn</span></code> into our <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">Document.m:</span></code></p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">windowControllerDidLoadNib:</span><span class="w"> </span><span class="p">(</span><span class="n">NSWindowController</span><span class="o">*</span><span class="p">)</span> <span class="nv">controller</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">NSTableColumn</span><span class="w"> </span><span class="o">*</span><span class="n">column</span><span class="p">;</span>
<span class="w">    </span><span class="bp">NSArray</span><span class="w"> </span><span class="o">*</span><span class="n">columns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">tableView</span><span class="w"> </span><span class="n">tableColumns</span><span class="p">];</span>

<span class="w">    </span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">columns</span><span class="w"> </span><span class="n">objectAtIndex</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setWidth</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setEditable</span><span class="o">:</span><span class="w"> </span><span class="nb">NO</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setResizable</span><span class="o">:</span><span class="w"> </span><span class="nb">YES</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setIdentifier</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;date&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="p">[[</span><span class="n">column</span><span class="w"> </span><span class="n">headerCell</span><span class="p">]</span><span class="w"> </span><span class="n">setStringValue</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;Date&quot;</span><span class="p">];</span>

<span class="w">    </span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">columns</span><span class="w"> </span><span class="n">objectAtIndex</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setWidth</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setEditable</span><span class="o">:</span><span class="w"> </span><span class="nb">NO</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setResizable</span><span class="o">:</span><span class="w"> </span><span class="nb">YES</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setIdentifier</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;item&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="p">[[</span><span class="n">column</span><span class="w"> </span><span class="n">headerCell</span><span class="p">]</span><span class="w"> </span><span class="n">setStringValue</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;Item&quot;</span><span class="p">];</span>

<span class="w">    </span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">NSTableColumn</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">initWithIdentifier</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;amount&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setWidth</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setEditable</span><span class="o">:</span><span class="w"> </span><span class="nb">NO</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setResizable</span><span class="o">:</span><span class="w"> </span><span class="nb">YES</span><span class="p">];</span>
<span class="w">    </span><span class="p">[[</span><span class="n">column</span><span class="w"> </span><span class="n">headerCell</span><span class="p">]</span><span class="w"> </span><span class="n">setStringValue</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;Amount&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">tableView</span><span class="w"> </span><span class="n">addTableColumn</span><span class="o">:</span><span class="w"> </span><span class="n">column</span><span class="p">];</span>
<span class="w">    </span><span class="n">RELEASE</span><span class="p">(</span><span class="n">column</span><span class="p">);</span>

<span class="w">    </span><span class="p">[</span><span class="n">tableView</span><span class="w"> </span><span class="n">sizeLastColumnToFit</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">tableView</span><span class="w"> </span><span class="n">setAutoresizesAllColumnsToFit</span><span class="o">:</span><span class="w"> </span><span class="nb">YES</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We adjust the interface of our <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> in the method
<code class="docutils literal notranslate"><span class="pre">-windowControllerDidLoadNib</span></code>:, which guarantees that the Gorm file is
loaded. This is similar to <code class="docutils literal notranslate"><span class="pre">-awakeFromNib</span></code>. First, we get the existing
columns and change their properties. Second, we create a new <code class="docutils literal notranslate"><span class="pre">NSTableColumn</span></code>
and add it into our <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>. Finally, we adjust the layout of our
<code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>. This way, we can programatically adjust our <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> without using Gorm to adjust it. Run this application
again, and you will see the new column.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At the time this tutorial was originnally written, Gorm did not allow you to configure <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>.</p>
</div>
<p>An important property of <code class="docutils literal notranslate"><span class="pre">NSTableColumn</span></code> is its identifier. Each
<code class="docutils literal notranslate"><span class="pre">NSTableColumn</span></code> has an unique identifier to distinguish them.
The identifier can be any object, but it’s usually an <code class="docutils literal notranslate"><span class="pre">NSString</span></code>. The
identifier does not have to be the same as the header of the column, but
should being the same for easier management. So we access the
<code class="docutils literal notranslate"><span class="pre">NSTableColumn</span></code> via its identifier. Many GNUstep objects have identifiers.</p>
</section>
<section id="functional-data-source">
<h2>Functional data source<a class="headerlink" href="#functional-data-source" title="Permalink to this heading">¶</a></h2>
<p>Now that we’ve finished the interface, we can set up a data source. The data source is an
object which provides the data for <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>. Therefore, the data source is
the model in the <a class="reference external" href="http://cocoadevcentral.com/articles/000003.php">MVC (Model-View-Controller)
paradigm</a>. Depending on
the behavior of <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>, we need to implement the proper methods in
the data source of <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>. We already implemented those methods, but they give the useless “column 0 row 0” messages, instead of useful data from our “Money Document”.</p>
<p>The data for <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> can be considered as an <code class="docutils literal notranslate"><span class="pre">NSArray</span></code> of
<code class="docutils literal notranslate"><span class="pre">NSDictionary</span></code>s. The object in each index of <code class="docutils literal notranslate"><span class="pre">NSArray</span></code> corresponds to each
row of <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>. And the object of each <code class="docutils literal notranslate"><span class="pre">NSDictionary</span></code> with a given key
corresponds to each <code class="docutils literal notranslate"><span class="pre">NSTableColumn</span></code> with a given identifier. That’s the
simplest way to build the model for <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>. Therefore, I add an
<code class="docutils literal notranslate"><span class="pre">NSMutableArray</span></code> in Document class.</p>
<p><code class="docutils literal notranslate"><span class="pre">Document.h:</span></code></p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="cp">#import &lt;AppKit/AppKit.h&gt;</span>
<span class="cp">#import &lt;AppKit/NSDocument.h&gt;</span>

<span class="k">@interface</span> <span class="nc">Document</span> : <span class="nc">NSDocument</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">id</span><span class="w"> </span><span class="n">tableView</span><span class="p">;</span>
<span class="w">    </span><span class="bp">NSMutableArray</span><span class="o">*</span><span class="w"> </span><span class="n">records</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">@end</span>
</pre></div>
</div>
<p>The “records” will store the data of <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code>. For more information about the usage of
<code class="docutils literal notranslate"><span class="pre">NSMutableArray</span></code>, read <a class="reference external" href="http://www.gnustep.it/nicola/Tutorials/BasicClasses/"><em>Basic GNUstep Base Library
Classes</em></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">Document.m:</span></code></p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span> <span class="nf">init</span>
<span class="p">{</span>
<span class="w">    </span><span class="nb">self</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">init</span><span class="p">];</span>
<span class="w">    </span><span class="n">records</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSMutableArray</span><span class="w"> </span><span class="n">new</span><span class="p">];</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">self</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">dealloc</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">RELEASE</span><span class="p">(</span><span class="n">records</span><span class="p">);</span>
<span class="w">    </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">dealloc</span><span class="p">];</span>
<span class="p">}</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="nf">numberOfRowsInTableView:</span><span class="w"> </span><span class="p">(</span><span class="n">NSTableView</span><span class="o">*</span><span class="p">)</span> <span class="nv">view</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="n">records</span><span class="w"> </span><span class="n">count</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span>              <span class="nf">tableView:</span><span class="w"> </span><span class="p">(</span><span class="n">NSTableView</span><span class="o">*</span><span class="p">)</span> <span class="nv">view</span>
<span class="w">    </span><span class="nl">objectValueForTableColumn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">NSTableColumn</span><span class="o">*</span><span class="p">)</span> <span class="nv">column</span>
<span class="w">                          </span><span class="nl">row</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="nv">row</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">row</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="p">[</span><span class="n">records</span><span class="w"> </span><span class="n">count</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">@&quot;&quot;</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">[[</span><span class="n">records</span><span class="w"> </span><span class="n">objectAtIndex</span><span class="o">:</span><span class="w"> </span><span class="n">row</span><span class="p">]</span><span class="w"> </span>
<span class="w">                          </span><span class="nl">objectForKey</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">identifier</span><span class="p">]];</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We create the instance of <code class="docutils literal notranslate"><span class="pre">NSMutableArray</span></code> in the method <code class="docutils literal notranslate"><span class="pre">-init</span></code>, and release it
in <code class="docutils literal notranslate"><span class="pre">-dealloc</span></code>, which will destroy it if no other object needs it. In the method <code class="docutils literal notranslate"><span class="pre">-numberOfRowsInTableView:</span></code>, we return one plus the amount of records because we want it to display an extra empty row for the user to add new records. Hence, in the
method <code class="docutils literal notranslate"><span class="pre">-tableView:objectValueForTableColumn:row:</span></code>, I have to check
whether the row the <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> requests is larger than the number of actual records. If so, it is a request for data to show in the empty row. Therefore, we just return an empty string (<code class="docutils literal notranslate"><span class="pre">&#64;&quot;&quot;</span></code>). We are using an array of dictionaries to make the key
of the dictionary the same as the identifier of the <code class="docutils literal notranslate"><span class="pre">NSTableColumn</span></code>. So I can
get the object directly by knowing the identifier of <code class="docutils literal notranslate"><span class="pre">NSTableColumn</span></code>. If
you are not using an <code class="docutils literal notranslate"><span class="pre">NSDictionary</span></code> for each row, you can consider
<a class="reference external" href="http://developer.apple.com/techpubs/macosx/Cocoa/TasksAndConcepts/ProgrammingTopics/KeyValueCoding/index.html"><em>Key Value Coding
(KVC)</em></a>,
which offers a similar way to get the right object. Otherwise, you have to
use <code class="docutils literal notranslate"><span class="pre">if</span></code>-<code class="docutils literal notranslate"><span class="pre">else</span></code> to get the right object. The advantage of NSDictionary (or
KVC) will be more clear for data input.</p>
</section>
<section id="data-input">
<h2>Data input<a class="headerlink" href="#data-input" title="Permalink to this heading">¶</a></h2>
<p>Now, we’ll add the functionary of data input. First, we have to set the
<code class="docutils literal notranslate"><span class="pre">NSTableColumn</span></code> to editable.</p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">windowControllerDidLoadNib:</span><span class="w"> </span><span class="p">(</span><span class="n">NSWindowController</span><span class="o">*</span><span class="p">)</span> <span class="nv">controller</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">NSTableColumn</span><span class="w"> </span><span class="o">*</span><span class="n">column</span><span class="p">;</span>
<span class="w">    </span><span class="bp">NSArray</span><span class="w"> </span><span class="o">*</span><span class="n">columns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">tableView</span><span class="w"> </span><span class="n">tableColumns</span><span class="p">];</span>

<span class="w">    </span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">columns</span><span class="w"> </span><span class="n">objectAtIndex</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setWidth</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setEditable</span><span class="o">:</span><span class="w"> </span><span class="nb">YES</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setResizable</span><span class="o">:</span><span class="w"> </span><span class="nb">YES</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setIdentifier</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;date&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="p">[[</span><span class="n">column</span><span class="w"> </span><span class="n">headerCell</span><span class="p">]</span><span class="w"> </span><span class="n">setStringValue</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;Date&quot;</span><span class="p">];</span>

<span class="w">    </span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">columns</span><span class="w"> </span><span class="n">objectAtIndex</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setWidth</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setEditable</span><span class="o">:</span><span class="w"> </span><span class="nb">YES</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setResizable</span><span class="o">:</span><span class="w"> </span><span class="nb">YES</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setIdentifier</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;item&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="p">[[</span><span class="n">column</span><span class="w"> </span><span class="n">headerCell</span><span class="p">]</span><span class="w"> </span><span class="n">setStringValue</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;Item&quot;</span><span class="p">];</span>

<span class="w">    </span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">NSTableColumn</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">initWithIdentifier</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;amount&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setWidth</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setEditable</span><span class="o">:</span><span class="w"> </span><span class="nb">YES</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">setResizable</span><span class="o">:</span><span class="w"> </span><span class="nb">YES</span><span class="p">];</span>
<span class="w">    </span><span class="p">[[</span><span class="n">column</span><span class="w"> </span><span class="n">headerCell</span><span class="p">]</span><span class="w"> </span><span class="n">setStringValue</span><span class="o">:</span><span class="w"> </span><span class="s">@&quot;Amount&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">tableView</span><span class="w"> </span><span class="n">addTableColumn</span><span class="o">:</span><span class="w"> </span><span class="n">column</span><span class="p">];</span>
<span class="w">    </span><span class="n">RELEASE</span><span class="p">(</span><span class="n">column</span><span class="p">);</span>

<span class="w">    </span><span class="p">[</span><span class="n">tableView</span><span class="w"> </span><span class="n">sizeLastColumnToFit</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">tableView</span><span class="w"> </span><span class="n">setAutoresizesAllColumnsToFit</span><span class="o">:</span><span class="w"> </span><span class="nb">YES</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When the user double-clicks a cell, the user can edit the contents of the cell. When the user finishes, the table view will send <code class="docutils literal notranslate"><span class="pre">-tableView:setObjectValue:forTableColumn:row:</span></code> to the data source.</p>
<p><code class="docutils literal notranslate"><span class="pre">Document.m:</span></code></p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span>      <span class="nf">tableView:</span><span class="w"> </span><span class="p">(</span><span class="n">NSTableView</span><span class="o">*</span><span class="p">)</span> <span class="nv">view</span>
<span class="w">         </span><span class="nl">setObjectValue</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="kt">id</span><span class="p">)</span> <span class="nv">object</span>
<span class="w">         </span><span class="nl">forTableColumn</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">NSTableColumn</span><span class="o">*</span><span class="p">)</span> <span class="nv">column</span>
<span class="w">                    </span><span class="nl">row</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="nv">row</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">row</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="p">[</span><span class="n">records</span><span class="w"> </span><span class="n">count</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">[</span><span class="n">records</span><span class="w"> </span><span class="n">addObject</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="bp">NSMutableDictionary</span><span class="w"> </span><span class="n">new</span><span class="p">]];</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="p">[[</span><span class="n">records</span><span class="w"> </span><span class="n">objectAtIndex</span><span class="o">:</span><span class="w"> </span><span class="n">row</span><span class="p">]</span><span class="w"> </span><span class="n">setObject</span><span class="o">:</span><span class="w"> </span><span class="n">object</span>
<span class="w">                                     </span><span class="nl">forKey</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">column</span><span class="w"> </span><span class="n">identifier</span><span class="p">]];</span>
<span class="w">    </span><span class="p">[</span><span class="n">tableView</span><span class="w"> </span><span class="n">reloadData</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Again, we need to take care of the special situation where user input in the last
empty row. Since it is not in the records, I need to add a new
dictionary item to the records, to represent a new row. Whenever the user inputs the data, it will be
store into records according its row and the identifier of the column. And
the key in the dictionary is the same as the identifier of the <code class="docutils literal notranslate"><span class="pre">NSTableColumn</span></code>.
Hence I can retrieve the data according to the identifier of the column.
Finally I ask the <code class="docutils literal notranslate"><span class="pre">NSTableView</span></code> to reload the data in order to reflect the
change of data source.</p>
<p>Now you can play around this application and input the data.</p>
<blockquote>
<div><p>Here is the
source code:
<a class="reference external" href="http://gnustep.made-it.com/GSPT/Table/Table-2-src.tar.gz">Table-2-src.tar.gz</a>.</p>
</div></blockquote>
<p>This example shows how easy it is to make a real document-based application
without worrying about the management of multiple documents and windows.</p>
<hr class="docutils" />
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="4.3.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">4.3 - Load and Save</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="4.1.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">4.1 - The Basics</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, GNUstep contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">4.2 - Document Editor</a><ul>
<li><a class="reference internal" href="#creating-the-table-view">Creating the table view</a></li>
<li><a class="reference internal" href="#basic-data-source">Basic data source</a></li>
<li><a class="reference internal" href="#configuring-the-table-view">Configuring the table view</a></li>
<li><a class="reference internal" href="#functional-data-source">Functional data source</a></li>
<li><a class="reference internal" href="#data-input">Data input</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=359c27e9"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/design-tabs.js?v=36754332"></script>
    </body>
</html>
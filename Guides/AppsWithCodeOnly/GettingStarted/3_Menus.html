<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2024.08.06 -->
        <title>3 - Menus - GNUstep</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">GNUstep</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  
  <span class="sidebar-brand-text">GNUstep</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../APIRefs/index.html">API references</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API references</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../APIRefs/Make/index.html">Make</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Make</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../APIRefs/Make/Introduction.html">Introduction</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../APIRefs/Make/Topics/index.html">Topics</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/Topics/Subproject.html">Subprojects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/Topics/MultipleTypes.html">Building more than one thing in the same GNUmakefile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/Topics/Aggregate.html">Aggregate projects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/Topics/ParallelBuilding.html">Parallel Building</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/Topics/LibraryIntroduction.html">Introduction to Libraries</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/index.html">Project Types</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Project Types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/Project.html">Project reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/ResourceSet.html">Resource Set reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/Tool.html">Tool reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/Application.html">Application reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/ProjectTypes/Library.html">Library reference</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../APIRefs/Make/OtherVariables/index.html">Other Variables</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Other Variables</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../APIRefs/Make/OtherVariables/Flags.html">Overridable Flags</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../APIRefs/Make/ReleaseNotes.html">Release Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../APIRefs/Base/index.html">GNUstep Base</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../../_sources/Guides/AppsWithCodeOnly/GettingStarted/3_Menus.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="menus">
<h1>3 - Menus<a class="headerlink" href="#menus" title="Permalink to this heading">¶</a></h1>
<p>We are now going to add a menu to our tutorial application.</p>
<section id="creating-a-menu">
<h2>3.1 Creating a Menu<a class="headerlink" href="#creating-a-menu" title="Permalink to this heading">¶</a></h2>
<p>An <code class="docutils literal notranslate"><span class="pre">NSMenu</span></code> object represents a menu. You create a new menu simply with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NSMenu *menu;

menu = AUTORELEASE ([NSMenu new]);
</pre></div>
</div>
<p>This is an empty menu. To add items to it, you do as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[menu addItemWithTitle: @&quot;Quit&quot; 
      action: @selector (terminate:)
      keyEquivalent: @&quot;q&quot;];
</pre></div>
</div>
<p>This adds to the <code class="docutils literal notranslate"><span class="pre">menu</span></code> menu an entry with title <code class="docutils literal notranslate"><span class="pre">Quit</span></code> (the title is the string which is displayed to the user). It’s interesting to know that the method</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>addItemWithTitle:action:keyEquivalent:
</pre></div>
</div>
<p>actually returns a <code class="docutils literal notranslate"><span class="pre">NSMenuItem</span></code> object, which is the menu item object which was added to the menu. We don’t need this return value in this example, so we discard it. Later on, we will need it.</p>
<hr class="docutils" />
<p><span id="CHILD_LINKS"><strong>Subsections</strong></span></p>
<ul class="simple">
<li><p><a href="node9.html" id="tex2html111">3.1.1 Action and Target</a></p></li>
</ul>
<hr class="docutils" />
<section id="action-and-target">
<h3>3.1.1 Action and Target<a class="headerlink" href="#action-and-target" title="Permalink to this heading">¶</a></h3>
<p>A menu item behaves as most controls in the GNUstep gui library: it has an <em>action</em> and a <em>target</em>. The typical example of such a control is a button. Say, for example, that you have created a button called <code class="docutils literal notranslate"><span class="pre">myButton</span></code>. You want something to happen when the user clicks on the button - to do it, you need to specify an <em>action</em> and a <em>target</em> for the button. For example, if you want the method <code class="docutils literal notranslate"><span class="pre">terminate:</span></code> of <code class="docutils literal notranslate"><span class="pre">NSApp</span></code> (the application shared object) to be invoked when the user clicks the button, you do as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NSButton *myButton;
id myObject;

// &lt;missing code: create myButton, myObject etc&gt;

[myButton setAction: @selector (terminate:)];
[myButton setTarget: NSApp];
</pre></div>
</div>
<p>When the user presses <code class="docutils literal notranslate"><span class="pre">myButton</span></code>, the gui library sends the <code class="docutils literal notranslate"><span class="pre">terminate:</span></code> message to the object <code class="docutils literal notranslate"><span class="pre">NSApp</span></code>, passing as argument <code class="docutils literal notranslate"><span class="pre">myButton</span></code>, executing the equivalent of the following code:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[NSApp terminate: myButton];
</pre></div>
</div>
<p>This way, when the user clicks the button, the application quits.</p>
<p>The button which was clicked is passed as an argument to the <em>action</em> so that the receiving object can determine (if needed) which button was actually pressed, so that the same method may be used for more than one button. In our case, <code class="docutils literal notranslate"><span class="pre">NSApp</span></code> simply discards the argument of <code class="docutils literal notranslate"><span class="pre">terminate:</span></code>.</p>
<p>In brief, the <em>action</em> is the method to be invoked when the user clicks on the button; the <em>target</em> is the object on which to invoke the method. <em>action</em> should be a selector for a method returning <code class="docutils literal notranslate"><span class="pre">void</span></code> and taking a single argument (of type <code class="docutils literal notranslate"><span class="pre">id</span></code>, a generic object). The button which was clicked is passed as an argument to the invocation of <em>action</em> on the <em>target</em>.</p>
<p>The case of a menu item is completely similar. When the user selects this menu item, the gui library performs the menu item <em>action</em> (<code class="docutils literal notranslate"><span class="pre">terminate:</span></code> in this case) on the menu item <em>target</em>. The argument passed to <code class="docutils literal notranslate"><span class="pre">terminate:</span></code> is the menu item which was selected.</p>
<p>Usually, no target is specified for a menu item, as in our code</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[menu addItemWithTitle: @&quot;Quit&quot; 
      action: @selector (terminate:)
      keyEquivalent: @&quot;q&quot;];
</pre></div>
</div>
<p>which only specifies that the action is <code class="docutils literal notranslate"><span class="pre">terminate:</span></code>. When no target is specified, the gui library tries to determine an appropriate target dynamically at run-time. For now the only important thing to know is that the gui library will try to send the action to certain objects (roughly, the objects inside a window which have the input focus) and, failing these objects, it will try to send the action to <code class="docutils literal notranslate"><span class="pre">NSApp</span></code>, and as a last resort to <code class="docutils literal notranslate"><span class="pre">NSApp</span></code>’s delegate. In our example, we want the action <code class="docutils literal notranslate"><span class="pre">terminate:</span></code> to be sent to <code class="docutils literal notranslate"><span class="pre">NSApp</span></code> (thus terminating the application when the user selects the <code class="docutils literal notranslate"><span class="pre">Quit</span></code> menu item), so this automatic mechanism works just fine for us (actually, you will soon discover that this automatic mechanism works fine extremely often). So, we don’t need to set explicitly a target for our menu item.</p>
</section>
</section>
<hr class="docutils" />
<section id="setting-the-application-menu">
<h2>3.2 Setting the Application Menu<a class="headerlink" href="#setting-the-application-menu" title="Permalink to this heading">¶</a></h2>
<p>Once you have created an <code class="docutils literal notranslate"><span class="pre">NSMenu</span></code> called, say, <code class="docutils literal notranslate"><span class="pre">myMenu</span></code>, to set it as the application menu you just invoke:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[NSApp setMainMenu: myMenu];
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="our-first-application">
<h2>3.3 Our First Application<a class="headerlink" href="#our-first-application" title="Permalink to this heading">¶</a></h2>
<p>We are ready now to create our first gui application:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#include &lt;Foundation/Foundation.h&gt;
#include &lt;AppKit/AppKit.h&gt;

@interface MyDelegate : NSObject
- (void) applicationWillFinishLaunching: (NSNotification *)not;
@end

@implementation MyDelegate : NSObject 
- (void) applicationWillFinishLaunching: (NSNotification *)not
{
  NSMenu *menu;
  
  menu = AUTORELEASE ([NSMenu new]);
  [menu addItemWithTitle: @&quot;Quit&quot;  
        action: @selector (terminate:)  
        keyEquivalent: @&quot;q&quot;];
  [NSApp setMainMenu: menu];
}
@end

int main (int argc, const char **argv)
{ 
  [NSApplication sharedApplication];
  [NSApp setDelegate: [MyDelegate new]];

  return NSApplicationMain (argc, argv);
}
</pre></div>
</div>
<p>Put this code for example into a file called <code class="docutils literal notranslate"><span class="pre">MyApp.m</span></code>, and use the following <code class="docutils literal notranslate"><span class="pre">GNUmakefile</span></code> for it:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>include $(GNUSTEP_MAKEFILES)/common.make

APP_NAME = MyFirstApp
MyFirstApp_OBJC_FILES = MyApp.m 

# Uncomment the following if you have an icon
#MyFirstApp_APPLICATION_ICON = MyApp.png
#MyFirstApp_RESOURCE_FILES = MyApp.png

include $(GNUSTEP_MAKEFILES)/application.make
</pre></div>
</div>
<p>Compile it, then run it using <code class="docutils literal notranslate"><span class="pre">openapp</span>&#160;&#160; <span class="pre">./MyFirstApplication.app</span></code> (see the GNUmakefile mini-tutorial for further information on writing GNUmakefiles).</p>
</section>
<hr class="docutils" />
<section id="fun-with-nsmenuitem-s-target">
<h2>3.4 Fun with NSMenuItem’s target<a class="headerlink" href="#fun-with-nsmenuitem-s-target" title="Permalink to this heading">¶</a></h2>
<p>The next step in our tutorial is to add to the menu an item which prints <code class="docutils literal notranslate"><span class="pre">Hello!</span></code> to the user when the user selects the item.</p>
<p>So, we add a new menu item to our menu, invoking the <code class="docutils literal notranslate"><span class="pre">printHello:</span></code> action (which we’ll implement in our custom object):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[menu addItemWithTitle: @&quot;Print Hello&quot;  
      action: @selector (printHello:)  
      keyEquivalent: @&quot;h&quot;];
</pre></div>
</div>
<p>Since our custom object is the application’s delegate, we don’t need to set explicitly the target: the library can determine it at run-time. In other cases it could be necessary to set a different target, as in:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NSMenuItem *menuItem;
id myObject;

// &lt;missing code: create myObject etc&gt;

menuItem = [menu addItemWithTitle: @&quot;Print Hello&quot;  
                 action: @selector (printHello:)  
                 keyEquivalent: @&quot;h&quot;];
[menuItem setTarget: myObject];
</pre></div>
</div>
<p>But in this case, we don’t need to set the target explicitly, and the code is simply:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#include &lt;Foundation/Foundation.h&gt;
#include &lt;AppKit/AppKit.h&gt;

@interface MyDelegate : NSObject
- (void) printHello: (id)sender;
- (void) applicationWillFinishLaunching: (NSNotification *)not;
@end

@implementation MyDelegate : NSObject 
- (void) printHello: (id)sender
{
  printf (&quot;Hello!\n&quot;);
}

- (void) applicationWillFinishLaunching: (NSNotification *)not
{
  NSMenu *menu;

  menu = AUTORELEASE ([NSMenu new]);

  [menu addItemWithTitle: @&quot;Print Hello&quot;  
        action: @selector (printHello:)  
        keyEquivalent: @&quot;&quot;];

  [menu addItemWithTitle: @&quot;Quit&quot;  
        action: @selector (terminate:)  
        keyEquivalent: @&quot;q&quot;];

  [NSApp setMainMenu: menu];
}
@end

int main (int argc, const char **argv)
{ 
  [NSApplication sharedApplication];
  [NSApp setDelegate: [MyDelegate new]];

  return NSApplicationMain (argc, argv);
}
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">GNUmakefile</span></code> is the same. I hope you appreciate how easy and simple is coding in GNUstep; I encourage you to try it out and enjoy all the fun you of selecting the <code class="docutils literal notranslate"><span class="pre">Print</span> <span class="pre">Hello</span></code> menu item and see the program print out <code class="docutils literal notranslate"><span class="pre">Hello!</span></code>.</p>
</section>
<hr class="docutils" />
<section id="creating-sub-menus">
<h2>3.5 Creating sub-menus<a class="headerlink" href="#creating-sub-menus" title="Permalink to this heading">¶</a></h2>
<p>Creating sub-menus is quite easy. For example, to add an <code class="docutils literal notranslate"><span class="pre">Info...</span></code> sub-menu to your main application menu, you first create a menu representing it:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NSMenu *infoMenu;

infoMenu = AUTORELEASE ([NSMenu new]);
[infoMenu addItemWithTitle: @&quot;Info Panel...&quot; 
          action: @selector (orderFrontStandardInfoPanel:) 
          keyEquivalent: @&quot;&quot;];
[infoMenu addItemWithTitle: @&quot;Help...&quot; 
          action: @selector (orderFrontHelpPanel:)
          keyEquivalent: @&quot;?&quot;];
</pre></div>
</div>
<p>Then, you create an item in the main menu for your info menu, but instead of setting an action and a target for that item, you set the <code class="docutils literal notranslate"><span class="pre">infoMenu</span></code> as the sub-menu corresponding to that item:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NSMenuItem *menuItem;

menuItem = [menu addItemWithTitle: @&quot;Info...&quot; 
                 action: NULL 
                 keyEquivalent: @&quot;&quot;];
[menu setSubmenu: infoMenu  forItem: menuItem];
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="creating-a-standard-info-panel">
<h2>3.6 Creating a standard info panel<a class="headerlink" href="#creating-a-standard-info-panel" title="Permalink to this heading">¶</a></h2>
<p>You may have noticed that in our previous example with the <code class="docutils literal notranslate"><span class="pre">Info...</span></code> sub-menu, we have used <code class="docutils literal notranslate"><span class="pre">orderFrontStandardInfoPanel:</span></code> as the action for the <code class="docutils literal notranslate"><span class="pre">Info</span></code> menu entry. The <code class="docutils literal notranslate"><span class="pre">Info</span></code> menu entry is usually supposed to display an ``Info Panel’’ (also called ``About Panel’’ on Microsoft Windows), with the title of the program, the version, the author, the copyright info. In this case, we use <code class="docutils literal notranslate"><span class="pre">orderFrontStandardInfoPanel:</span></code>, which is implemented by <code class="docutils literal notranslate"><span class="pre">NSApplication</span></code> (it is a GNUstep extension), and which displays a standard info panel. The information on what to display in the panel is taken from the <code class="docutils literal notranslate"><span class="pre">Info-gnustep.plist</span></code> file in the application’s main bundle. This file is created automatically for you at compile time by the GNUstep make system; but you can insert your own entries in this file as follows.</p>
<p>If your application name is, for example, <code class="docutils literal notranslate"><span class="pre">MyFirstApp</span></code>, then you need to create a file called <code class="docutils literal notranslate"><span class="pre">MyFirstAppInfo.plist</span></code> in your source directory (you do not need to add anything to your <code class="docutils literal notranslate"><span class="pre">GNUmakefile</span></code>; the make system looks for this file automatically). Here is an example of such a file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
  ApplicationName = &quot;My First Application&quot;;
  ApplicationDescription = &quot;An Example of how to use NSMenu&quot;;
  ApplicationRelease = &quot;0.1&quot;;
  Authors = (&quot;Your Name Here &lt;your.name@your.domain&gt;&quot;, 
             &quot;Another Name Here &lt;another.name@another.domain&gt;&quot;);
  Copyright = 
    &quot;Copyright (c) 2008 Your Name Here &lt;your.name@your.domain&gt;&quot;;
  CopyrightDescription = 
    &quot;This program is released under the GNU GPL&quot;;
}
</pre></div>
</div>
<p>You should of course edit this example filling in with the information appropriate for your own app. The file is in a format called ``property list’’ (that is why it has extension <code class="docutils literal notranslate"><span class="pre">plist</span></code>; see the <em>Basic Foundation Classes</em> GNUstep Mini Tutorial for more information on property lists). The entries should be self-explanatory; note that <code class="docutils literal notranslate"><span class="pre">Authors</span></code> should be equal to an array of names. If you want to omit some of the entries, you may safely do it.</p>
<p>Here is the full listing of our latest app source code, containing an info submenu able to display the Info Panel:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#include &lt;Foundation/Foundation.h&gt;
#include &lt;AppKit/AppKit.h&gt;

@interface MyDelegate : NSObject
- (void) printHello: (id)sender;
- (void) applicationWillFinishLaunching: (NSNotification *)not;
@end

@implementation MyDelegate : NSObject 
- (void) printHello: (id)sender
{
  printf (&quot;Hello!\n&quot;);
}

- (void) applicationWillFinishLaunching: (NSNotification *)not
{
  NSMenu *menu;
  NSMenu *infoMenu;
  NSMenuItem *menuItem;

  menu = AUTORELEASE ([NSMenu new]);

  infoMenu = AUTORELEASE ([NSMenu new]);

  [infoMenu addItemWithTitle: @&quot;Info Panel...&quot; 
            action: @selector (orderFrontStandardInfoPanel:) 
            keyEquivalent: @&quot;&quot;];

  [infoMenu addItemWithTitle: @&quot;Help...&quot; 
            action: @selector (orderFrontHelpPanel:)
            keyEquivalent: @&quot;?&quot;];

  menuItem = [menu addItemWithTitle: @&quot;Info...&quot; 
                   action: NULL 
                   keyEquivalent: @&quot;&quot;];

  [menu setSubmenu: infoMenu  forItem: menuItem];

  [menu addItemWithTitle: @&quot;Print Hello&quot;  
        action: @selector (printHello:)  
        keyEquivalent: @&quot;&quot;];

  [menu addItemWithTitle: @&quot;Quit&quot;  
        action: @selector (terminate:)  
        keyEquivalent: @&quot;q&quot;];

  [NSApp setMainMenu: menu];
}
@end

int main (int argc, const char **argv)
{ 
  [NSApplication sharedApplication];
  [NSApp setDelegate: [MyDelegate new]];

  return NSApplicationMain (argc, argv);
}
</pre></div>
</div>
<hr class="docutils" />
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, GNUstep contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">3 - Menus</a><ul>
<li><a class="reference internal" href="#creating-a-menu">3.1 Creating a Menu</a><ul>
<li><a class="reference internal" href="#action-and-target">3.1.1 Action and Target</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setting-the-application-menu">3.2 Setting the Application Menu</a></li>
<li><a class="reference internal" href="#our-first-application">3.3 Our First Application</a></li>
<li><a class="reference internal" href="#fun-with-nsmenuitem-s-target">3.4 Fun with NSMenuItem’s target</a></li>
<li><a class="reference internal" href="#creating-sub-menus">3.5 Creating sub-menus</a></li>
<li><a class="reference internal" href="#creating-a-standard-info-panel">3.6 Creating a standard info panel</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=359c27e9"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/design-tabs.js?v=36754332"></script>
    </body>
</html>